/*
 * Anime Bubble Flower Theme - ADVANCED ORGANIC EDITION (v6.0) - Raw CSS
 * Optimized for Vencord Custom CSS Injection
 */

/* --- EXTERNAL IMPORTS --- */
/* Note: Too many external imports can also cause lag. If performance remains an issue,
   we may need to consolidate the content of these files manually. */
@import url(https://blade04208.github.io/css/tabsv2-servers.css);
@import url("https://raw.githubusercontent.com/acheronx0577/Better-Transparent-Gif-Emoji-Sticker-Picker/refs/heads/main/Better-Transparent-Gif-Emoji-Sticker-Picker.css");
@import url("https://raw.githubusercontent.com/acheronx0577/Frosted-Nitro-Popup/refs/heads/main/Frosted-Nitro-Popup.css");
@import url("https://raw.githubusercontent.com/acheronx0577/Transparent-Header-and-Bug-Fix/refs/heads/main/Transparent-Header-and-Bug-Fix");
@import url("https://raw.githubusercontent.com/acheronx0577/Transparent-Mailbox-Popup/refs/heads/main/Transparent%20Popup.css");
@import url("https://raw.githubusercontent.com/acheronx0577/Transparent-Code-Block/refs/heads/main/Transparent%20Code%20Block.css");
@import url("https://raw.githubusercontent.com/acheronx0577/Transparent-Activity-Discord/refs/heads/main/Transparent%20Activity%20Discord.css");
@import url("https://raw.githubusercontent.com/acheronx0577/Better-Compact-Command-Menu-With-Smooth-Transition/refs/heads/main/Better%20Compact%20Command%20Menu%20With%20Smooth%20Transition.css");
@import url("https://rinlovesyou.github.io/Couve/snippets/couve-profile-popout.css");
@import url("https://nspc911.github.io/themes/vencord/BorderedEmbeds.theme.css");
@import url('https://raw.githubusercontent.com/acheronx0577/Transparent-Quick-Switcher-Discord/main/Transparent%20Quick%20Switcher.css');
@import url("https://warrayquipsome.github.io/Chillax/ChillaxTag.css");
@import url("https://raw.githubusercontent.com/ZapGaming/Chillax-But-Better/refs/heads/main/Root/SettingsModalEdited.css");
@import url("https://warrayquipsome.github.io/Chillax/Addons/AccountDetailsGrid.css");
@import url("https://crearts-community.github.io/Friends-Grid/theme.css");
@import url("https://github.com/ZapGaming/Chillax-But-Better/raw/refs/heads/main/Root/WindowsButtons.css");
@import url("https://warrayquipsome.github.io/Chillax/Components/UserArea.css");
@import url("https://warrayquipsome.github.io/Chillax/Components/Embeds.css");
@import url("https://warrayquipsome.github.io/Chillax/Components/ChatArea.css");
@import url("https://warrayquipsome.github.io/Chillax/Components/ChannelHeader.css");
@import url("https://mwittrien.github.io/BetterDiscordAddons/Themes/EmojiReplace/base/BlobMoji.css");

/*
 * Anime Bubble Flower Theme - Expanded Version (v6.0) - Performance Optimized
 * Compatible with Vencord, BetterDiscord, etc.
 */

/* ==================================== */
/* 0. CUSTOM FONT DEFINITION (UPDATED) */
/* ==================================== */

@font-face {
    font-family: 'KDH';
    font-weight: 400;
    font-style: normal;
    src: url("https://raw.githubusercontent.com/ZapGaming/Chillax-But-Better/refs/heads/main/Fonts/Norse.woff2") format('woff2');
}


/* GLOBAL FONT APPLICATION: SETS ALL TEXT TO 'KDH' */
body,
[class*="app_"],
.messageContent_e29c63,
.header_d756cd,
.channelName_e0d9b4,
.title_d756cd {
    font-family: 'KDH', monospace !important;
}

/* ==================================== */
/* 1. ROOT VARIABLES (Color Palette & Translucency) */
/* ==================================== */

:root {
    /* Primary Anime Flower/Bubble Colors */
    --flower-pink: #ffc0cb;        /* Light Pink/Cherry Blossom */
    --bubble-blue: #b3e5fc;        /* Pale Sky Blue */
    --soft-purple: #e1bee7;        /* Soft Lavender/Lilac */
    --bg-lightest: #ffffff;        /* Pure White/Default Background */

    /* --- NEW: ORGANIC SHAPE VARIABLE --- */
    --leaf-border-radius: 25px 10px 25px 10px / 10px 25px 10px 25px; /* Subtle organic shape */

    /* --- Custom Translucency Variables (Performance Optimized) --- */
    --translucent-blur: 8px; /* Reduced blur for better performance */
    --translucent-light: rgba(255, 255, 255, 0.2); /* Very light (80% transparent) for main panels */
    --translucent-medium: rgba(255, 255, 255, 0.4); /* Medium light (60% transparent) for headers/input */
    --translucent-heavy: rgba(255, 255, 255, 0.7); /* Heavier for focused elements */

    /* --- FANTASY FLOWER TEXT COLORS --- */
    --fantasy-text-vibrant: #7A08B0; /* Deep Vibrant Amethyst for main text */
    --fantasy-header-glow: #e91e63; /* Glowing Raspberry for headers and primary accents */

    /* Generic Discord Variable Overrides (Applying high transparency) */
    --header-primary: var(--fantasy-header-glow);
    --header-secondary: #ff80ab;
    --text-normal: var(--fantasy-text-vibrant);
    --text-muted: #a0a0a0;

    --interactive-normal: var(--soft-purple);
    --interactive-hover: var(--flower-pink);
    --interactive-active: #ff80a0;

    --background-primary: var(--translucent-light);
    --background-secondary: var(--translucent-light);
    --background-secondary-alt: var(--translucent-medium);
    --background-tertiary: var(--translucent-medium);
    --background-accent: var(--flower-pink);
    --background-floating: var(--translucent-heavy);
    --channel-icon: var(--soft-purple);

    --button-secondary-background: var(--soft-purple);
    --button-secondary-hover: var(--flower-pink);

    --deprecated-card-bg: var(--translucent-light);
    --elevation-low: 0 1px 0 rgba(0, 0, 0, 0.05);

    /* --- Custom Window Variables (Kept for title bar) --- */
    --window-colour: rgba(255, 255, 255, 0.6);
    --window-blur: 10px;
    --window-margin: 15px;
    --text-primary: var(--fantasy-text-vibrant);

    /* --- NEW: SHADER EFFECT COLORS --- */
    --shader-color-a: #ff80a0; /* Flower Pink (Vibrant) */
    --shader-color-b: #a0c4ff; /* Bubble Blue (Soft) */
    --shader-color-c: #e1bee7; /* Soft Purple (Lilac) */
    --shader-color-d: #40e0d0; /* Turquoise accent (Contrast) */

    /* Define the multi-layer CONIC GRADIENT for main BG */
    --animated-cone-layer: conic-gradient(
        from 180deg at 50% 50%,
        var(--shader-color-a) 0deg,
        var(--shader-color-b) 90deg,
        var(--shader-color-c) 180deg,
        var(--shader-color-d) 270deg,
        var(--shader-color-a) 360deg
    );
    
    /* --- NEW: BUTTON/ACCENT CONIC GRADIENT (More contrast, faster rotation for interactive elements) --- */
    --button-cone-layer: conic-gradient(
        from 90deg at 50% 50%,
        var(--shader-color-d) 0deg,
        var(--flower-pink) 60deg,
        var(--shader-color-b) 180deg,
        var(--soft-purple) 280deg,
        var(--shader-color-d) 360deg
    );

    /* --- COMPLEX GRADIENTS (Used for panels) --- */
    --primary-gradient: linear-gradient(180deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 128, 160, 0.15) 100%); /* Light Pink/White fade */
    --secondary-gradient: linear-gradient(90deg, var(--bubble-blue), var(--soft-purple)); /* Blue to Purple fade */

    /* Custom Gradient for Leaf/Shape (Keep existing for border-radius) */
    --leaf-gradient: linear-gradient(135deg, #ff80a0 0%, #a0c4ff 100%);

    /* --- SNIPPET VARIABLES --- */
    --badges-background: var(--redesign-button-overlay-alpha-background);
    /* Bordered Embeds Variables */
    --wh-border-width: 4px;
    --wh-background-opacity: 0%;
    --wh-default-background: hsl(from var(--background-surface-high) h s l / 100%);
    --wh-always-show-suppress-embed-button: 0;

    /* --- Vencord Header Snippet Vars (for positioning) --- */
    --vr-header-snippet-top: 0px !important;
    --vr-header-snippet-server-padding: 16px !important;
    --vr-header-snippet-space: 225px !important;
    --vr-header-snippet-button-padding: 5px !important;
    --vr-header-snippet-winbuttons: flex !important;
}

/* ==================================== */
/* 2. GENERAL UI STYLING & ORGANIC SHAPES */
/* ==================================== */

/* Apply Custom Background (The custom BG is here!) */
.app_b1f725, /* Common main app container class */
.base_e9a184 { /* Another common base container */
    /* NEW: Animated Shader Background */
    background: var(--animated-cone-layer) !important;
    background-size: 200% 200% !important; /* Initial size for multi-layer cone */
    background-position: center !important;
    background-attachment: fixed !important;

    /* Apply Welcome Animation first (1s), then loop the shader effect (40s) */
    animation: welcomeFadeIn 1s ease-out 1 forwards, shaderEffect 40s 1s infinite linear alternate !important;

    /* Ensure the color stays soft but vibrant */
    filter: saturate(1.2) brightness(0.9);
}

/* --- KEYFRAMES FOR SHADER ANIMATION --- */
@keyframes shaderEffect {
    0% {
        background-position: 0% 0%;
        background-size: 200% 200%;
        transform: scale(1) rotate(0deg);
        filter: hue-rotate(0deg);
    }
    50% {
        background-position: 100% 100%;
        background-size: 150% 150%;
        transform: scale(1.1) rotate(15deg);
        filter: hue-rotate(180deg);
    }
    100% {
        background-position: 0% 0%;
        background-size: 200% 200%;
        transform: scale(1) rotate(0deg);
        filter: hue-rotate(360deg);
    }
}

/* --- KEYFRAMES FOR WELCOME ANIMATION (New) --- */
@keyframes welcomeFadeIn {
    0% { opacity: 0; transform: scale(0.99); filter: blur(50px); }
    100% { opacity: 1; transform: scale(1); filter: blur(0); }
}


/* Apply translucent background, blur, and LEAF SHAPE to all major structural panels */
.container_d538e7, /* Main app background container */
.scroller_e0d9b4, /* Channel list scroller background */
.title_d756cd, /* Channel Header/Title */
.form_d4acb7, /* Message form/input area */
.bottom_a17539, /* Bottom user settings bar (old style) */
.layers_d1e8c1, /* Top level layer container */
.container_a17539, /* Generic inner container */
.container_ce383d, /* Channel Category Container (Title Bar) */
.header_d756cd, /* Header element (in chat, popouts, etc.) */
.root_d6f920, /* Generic Popout Root */
.menu_d03f0d, /* Context Menus */
.scroller__3d0c2, /* Generic Scroller for Popups/Modals */
.userPopoutInner_f801e0, /* User Popout */
.modal_d710a3, /* Generic Modal */
.popout_d710a3, /* Generic Popout */
.popout_c3c86c /* Menu popouts */
 {
    /* Uses the newly optimized translucent-blur variable */
    /* Only apply the base translucency and blur */
    backdrop-filter: blur(var(--translucent-blur)) !important;
    background-color: var(--translucent-light) !important;

    /* --- MANDATORY LEAF SHAPE --- */
    border-radius: var(--leaf-border-radius) !important;
    /* Ensure borders and shadows look right on the translucent background */
    border: none !important;
    box-shadow: none !important;
}

/* Apply Linear Gradients to Main Columns */
.sidebar_e03106 {
    /* Channel List - White/Pink Gradient */
    background-image: var(--primary-gradient), var(--translucent-light) !important;
    background-color: transparent !important;
}
.membersWrap_d1e8c1 {
    /* Members List - White/Pink Gradient */
    background-image: var(--primary-gradient), var(--translucent-light) !important;
    background-color: transparent !important;
}
.chat_a83002 {
    /* Main Chat - Blue/Purple Gradient */
    background-image: var(--secondary-gradient), var(--translucent-light) !important;
    background-color: transparent !important;
}


/* Specific overrides for containers that shouldn't have the leaf shape */
.guilds_e1c8a5 {
    border-radius: 0 !important; /* Keep server list straight */
}

/* Modals and Popouts need slightly more opacity to be readable */
.modal_d710a3,
.popout_d710a3,
.root_d6f920,
.popout_c3c86c,
.userPopoutInner_f801e0 {
    background-color: var(--translucent-heavy) !important; /* Slightly more opaque for focus */
    backdrop-filter: blur(var(--translucent-blur)) !important;
    border-radius: var(--leaf-border-radius) !important;
    box-shadow: 0 8px 30px rgba(179, 229, 252, 0.9); /* Stronger bubble blue shadow */
    overflow: hidden;
    border: 1px solid var(--bubble-blue);
}

/* Custom Scrollbar Styling (Bubble Pink/Blue gradient look) */
.scrollerBase_e26d83::-webkit-scrollbar-thumb {
    background: var(--leaf-gradient);
    border: 3px solid var(--background-primary);
    border-radius: 10px; /* Rounded pill shape */
}

/* --- Search Bar and Sidebar List Styling (ENHANCED FOCUS) --- */
/* 🔍 Search bar container (Applies leaf shape) */
.searchBar__35e86 {
    background-color: rgba(0, 0, 0, 0.205) !important;
    box-shadow: none !important;
    border-radius: var(--leaf-border-radius) !important;
    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Complex transition */
}
/* ✨ Search bar FOCUS effect */
.searchBar__35e86:focus-within {
    border: 2px solid var(--flower-pink);
    box-shadow: 0 0 15px rgba(255, 192, 203, 0.8) !important;
    background-color: var(--translucent-heavy) !important;
}

/* Glowing Border for Active/Selected Elements (Soft Pink Glow) */
.listItem_a388b3.selected_a388b3,
.container_cb99f2.selected_a388b2,
.container_cb99f2:hover,
.focused_a388b3 {
    /* Highlight entire leaf-shaped element */
    border-left: none !important;
    box-shadow: inset 0 0 15px rgba(255, 192, 203, 0.8), 0 0 5px rgba(233, 30, 99, 0.5); /* Stronger Soft Pink Glow */
    background-color: var(--translucent-medium) !important;
    transition: box-shadow 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55), transform 0.2s ease;
}

/* --- BUTTONS: Multi-Layer Conic Gradient and Complex Transitions (New) --- */
@keyframes buttonCone {
    0% { background-position: 0% 0%; }
    100% { background-position: 200% 200%; }
}

.button_af505f, 
.lookFilled_da8864:not(.colorRed_da8864), /* Targets primary buttons */
.button_af505f:not(.lookFilled_da8864), /* Secondary/Generic Buttons */
.lookInverted_da8864 { /* Other interactive styles */
    /* Apply Gradient and Complex Transition */
    background: var(--button-cone-layer) !important;
    background-size: 200% 200% !important;
    animation: buttonCone 5s infinite linear reverse; /* Faster animation for buttons */

    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55), box-shadow 0.5s ease-out; /* Spring/Pop transition and shadow */
    border-radius: 15px 5px 15px 5px !important; /* Leaf shape for buttons */
    color: white !important; /* Ensure text is visible on the gradient */
    font-weight: 700 !important;
    border: none !important;
    box-shadow: 0 4px 15px rgba(100, 0, 150, 0.3); /* Initial soft shadow */
}

/* Button Hover: Complex Glow */
.button_af505f:hover, 
.lookFilled_da8864:hover:not(.colorRed_da8864),
.lookInverted_da8864:hover {
    transform: scale(1.05);
    /* Complex Glow for active buttons */
    box-shadow: 0 0 20px 5px var(--flower-pink), inset 0 0 10px 2px var(--bubble-blue);
    filter: brightness(1.2);
}

/* Red/Danger buttons still get the shape and transition, but keep the color */
.colorRed_da8864 {
    background-color: #f04747 !important;
    border-radius: 15px 5px 15px 5px !important;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
}
.colorRed_da8864:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px #f04747;
}

/* Input Fields and Text Areas (Leaf corners) */
.input_a44e54 {
    background-color: var(--background-secondary-alt) !important;
    border: 1px solid var(--soft-purple);
    border-radius: var(--leaf-border-radius) !important; /* Applied Leaf Corners */
    box-shadow: 0 0 8px rgba(142, 36, 170, 0.3); /* Soft purple shadow */
}

/* Server Icon Styling (Focus state/Active/PULSE ANIMATION) */
@keyframes pulseBubble {
    0% { transform: scale(1); opacity: 0.9; }
    50% { transform: scale(1.02); opacity: 1; }
    100% { transform: scale(1); opacity: 0.9; }
}

.listItem_a388b3 {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.listItem_a388b3:not(.selected_a388b3) .wrapper_a388b3 {
    animation: pulseBubble 5s infinite ease-in-out;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
    border-radius: 50%;
}

.listItem_a388b3.selected_a388b3,
.listItem_a388b3:hover {
    transform: scale(1.05);
    background-color: rgba(255, 192, 203, 0.3) !important; /* Pink light overlay */
    border-radius: 50% !important;
    box-shadow: 0 0 15px var(--flower-pink);
}

/* Channel Category/Headers (ENHANCED GLOW) */
.container_ce383d, /* Channel Category Title */
.title_d756cd { /* Chat Header Title */
    color: var(--fantasy-header-glow) !important;
    font-weight: 900 !important;
    text-shadow: 0 0 10px rgba(233, 30, 99, 0.8), 0 0 5px rgba(255, 255, 255, 0.5); /* Enhanced Glow */
    padding: 15px 10px; /* More padding for header leaf shape */
}

/* ==================================== */
/* 3. VENCORD/USER PANEL STYLING (REPOSITIONED & LEAF SHAPE) */
/* ==================================== */

/* --- User Panel (Bottom Bar) and Content Styling --- */
/* The Panels area is already on the bottom right due to the sidebar reordering.
   We make it a distinct floating leaf-shaped module. */
section[class^="panels_"] {
    background: transparent !important;
    border: none !important;
    border-left: 0px; /* Remove default border */
    /* Make the bottom bar a floating, distinct area (Applied leaf shape in general section 2) */
    padding: 10px; /* Internal padding for the bubble effect */
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    /* Ensure the general leaf shape and translucency applies here */
}

section[class^="panels_"] div[class^="container__"] {
    /* Make the actual user box inside look more like a leaf button */
    border-radius: var(--leaf-border-radius) !important;
    background-color: var(--translucent-light) !important;
    border: 1px solid var(--flower-pink);
    box-shadow: inset 0 0 5px rgba(255, 192, 203, 0.5);
}

section[class^="panels_"] div[class^="panel_"] {
    margin-bottom: 12px;
    border-radius: var(--leaf-border-radius) !important;
    border: 1px solid var(--border-subtle);
    background-color: var(--translucent-medium) !important;
}

header[class^="header_"] {
    border-bottom: 0px;
}

section[class^="panels_"] div[class^="listeningAlong_"] {
    border: 1:px solid var(--border-subtle) !important;
    margin-bottom: 12px;
    border-radius: var(--leaf-border-radius) !important;
    background-color: var(--translucent-medium) !important;
}

/* --- Spotify Player Styling (Vencord) - Applied Leaf Shape --- */
#vc-spotify-player {
    background-color: var(--translucent-medium) !important;
    border-radius: var(--leaf-border-radius) !important;
    border: 1px solid var(--bubble-blue);
    height: 130px;
    margin-bottom: 12px;
    transition: all 0.3s ease;
}
#vc-spotify-player:hover {
    transform: translateY(-5px); /* Lift on hover */
    box-shadow: 0 10px 30px rgba(179, 229, 252, 0.8);
}


/* ==================================== */
/* 4. COMPLEX FLOATING ELEMENTS & ANIMATIONS */
/* ==================================== */

/* Animation for Floating/Subtle Movement (Applied to main columns) */
@keyframes floatLeaf {
    0% { transform: translateY(0) rotate(0.5deg); }
    50% { transform: translateY(-5px) rotate(-0.5deg); }
    100% { transform: translateY(0) rotate(0.5deg); }
}

/* Apply floating animation to main structural panels */
.sidebar_e03106,
.membersWrap_d1e8c1,
.chat_a83002 {
    animation: floatLeaf 15s infinite ease-in-out;
    transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Smooth transition for expansion */
}

/* Expanded/Focused Hover Effect for Sidebars */
.sidebar_e03106:hover {
    box-shadow: 0 0 40px var(--flower-pink), 0 0 20px var(--soft-purple); /* Stronger overall glow */
    transform: scale(1.01) translateY(-2px); /* Slight lift and scale */
    width: 260px; /* Expand Channel List width slightly */
    min-width: 260px;
}
.membersWrap_d1e8c1:hover {
    box-shadow: 0 0 40px var(--bubble-blue), 0 0 20px var(--soft-purple);
    transform: scale(1.01) translateY(-2px);
    width: 260px; /* Expand Member List width slightly */
    min-width: 260px;
    max-width: 260px;
}

/* Corner Leaf Gradient Shape (Existing, for top-left visual) */
[class*="app_"] {
    position: relative;
    overflow: hidden; /* Ensures the shape doesn't leak out */
}

[class*="app_"]::before {
    content: '';
    position: absolute;
    top: -100px; /* Position off-screen to start the shape in the corner */
    left: -100px;
    width: 350px; /* Slightly larger */
    height: 350px;
    background: var(--leaf-gradient);
    opacity: 0.7; /* Increased opacity */
    z-index: 0;
    pointer-events: none;
    /* Creates an irregular, organic, leaf-like shape using border-radius */
    border-radius: 300px 50px 300px 50px / 300px 50px 300px 50px;
    transform: rotate(-10deg); /* Slight rotation for a dynamic look */
    filter: blur(25px); /* Softens the edges dramatically */
}

/* Floating Particle/Wisp Effect (NEW! Adds depth and movement) */
@keyframes wispyFloat {
    0% { transform: translate(0, 0) rotate(0deg); opacity: 0.5; }
    33% { transform: translate(150px, -80px) rotate(15deg); opacity: 0.8; }
    66% { transform: translate(-100px, 50px) rotate(-10deg); opacity: 0.6; }
    100% { transform: translate(0, 0) rotate(0deg); opacity: 0.5; }
}

[class*="app_"]::after { /* Use ::after for the floating element in the bottom right */
    content: '';
    position: absolute;
    bottom: -50px;
    right: -50px;
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, var(--bubble-blue) 10%, transparent 70%);
    opacity: 0.6;
    z-index: 1;
    pointer-events: none;
    filter: blur(40px);
    animation: wispyFloat 30s infinite ease-in-out alternate;
}

/* ==================================== */
/* 5. USER'S WATERMARK STYLING (REMOVED) */
/* ==================================== */

/* The Watermark has been successfully removed. */


/* ==================================== */
/* 6. STRUCTURAL MODIFICATIONS (Movement & Chat Bubbles) */
/* ==================================== */

/* === A. Container Reordering (Member List moves left, Channel List moves right) === */

/* Targets the main flex container that holds the sidebars and chat */
.base_e9a184 {
    display: flex;
    flex-direction: row; /* Ensure default flex direction is maintained */
}

/* 1. Channel List/Sidebar (Already on the right) */
.sidebar_e03106 {
    order: 3; /* Move to the right side of the chat */
}

/* 2. Main Chat Area */
.chat_a83002 {
    order: 2; /* Remains in the center */
}

/* 3. Member List (Already on the left) */
.membersWrap_d1e8c1 {
    order: 1; /* Move to the left of the chat, beside the server list */
    /* Force width to prevent collapsing when reordered - ADJUSTED FOR EXPAND HOVER */
    width: 240px;
    min-width: 240px;
    max-width: 240px;
}

/* === B. Chat Bubble Snippet (Enhanced) === */

/* Styling for message content to create a soft bubble effect */
.messageContent_e29c63 {
    display: inline-block;
    padding: 8px 12px;
    margin-top: 2px;
    margin-bottom: 2px;
    max-width: 100%; /* Ensure text wraps within the bubble */
    box-sizing: border-box;
    /* Apply translucent styling from theme variables */
    background-color: var(--translucent-medium) !important;
    border-radius: 20px 5px 20px 5px !important; /* Mini-leaf shape for bubbles */
    border: 1px solid var(--soft-purple); /* Soft purple outline */
    box-shadow: 0 4px 10px rgba(100, 0, 150, 0.2); /* Deeper shadow for depth */
    color: var(--fantasy-text-vibrant); /* Ensure the text maintains the fantasy color */
    transition: all 0.2s ease;
}
.messageContent_e29c63:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 15px rgba(100, 0, 150, 0.3);
}


/* Fix spacing issue between subsequent bubble messages */
.messageContent_e29c63 + .messageContent_e29c63 {
    margin-top: 2px;
}

/* Message Actions (Reply/Pin/More icons) - Floating Pink Crystal look */
.wrapper_f801e0 .button_e10d8a {
    color: white;
    background-color: var(--fantasy-header-glow) !important;
    border-radius: 50%;
    padding: 6px;
    opacity: 0.9;
    box-shadow: 0 0 10px rgba(233, 30, 99, 0.5);
    transition: all 0.3s ease;
}
.wrapper_f801e0 .button_e10d8a:hover {
    opacity: 1;
    background-color: var(--flower-pink) !important;
    color: var(--fantasy-text-vibrant);
    transform: scale(1.2) rotate(10deg);
}

/* Embeds, Attachments, and Media (Leaf Shape) */
.container_de23ad { /* Embed container */
    border-radius: var(--leaf-border-radius) !important;
    border-left: 5px solid var(--bubble-blue);
    background-color: var(--translucent-medium);
    padding: 15px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
}
.container_de23ad:hover {
    border-left: 8px solid var(--flower-pink);
}

/* Message Dividers */
.divider_d0d467 {
    border-top: 2px dashed var(--soft-purple) !important;
    opacity: 0.7;
}

/* ==================================== */
/* 7. UTILITY & WINDOW CONTROL SNIPPETS (UPDATED TITLE BAR) */
/* ==================================== */

/* --- Custom Title Bar & Bubble Buttons (Replaces macOS style) --- */

/* Server name in title bar */
.title__85643 {
    padding: 4px 6px;
    border-radius: 5px;
    background: var(--window-colour);
    backdrop-filter: blur(var(--window-blur)) !important;
}

/* Title bar buttons container (ensures correct dragging behavior) */
.withFrame-2dL45i .winButtons_c38106 {
    /* Restore position for the new connected style */
    position: relative !important;
    top: auto !important;
    left: auto !important;
    right: auto !important;
    height: auto;
    display: flex !important;
    align-items: center;
    justify-content: flex-start;
    gap: 0; /* Important for connected buttons */
    z-index: 9999;
}

/* Title bar buttons */
.trailing_c38106 {
    margin-right: var(--window-margin);
}

.recentsIcon_c99c29,
.trailing_c38106 > .anchor_edefb8,
.winButtons_c38106 > div {
    height: var(--space-32);
    background: var(--window-colour);
    backdrop-filter: blur(var(--window-blur));
    transition: 0.2s;
    border-radius: 5px; /* Using explicit 5px border-radius as a proxy for a defined variable */
    width: 36px; /* Ensure buttons have width when icons are hidden */
}

.recentsIcon_c99c29:hover,
.trailing_c38106 > .anchor_edefb8:hover,
.winButtons_c38106 > div:hover {
    background: transparent;
    transition: 0.1s;
    backdrop-filter: none;
}

/* Make min/max/close connected */
.winButtons_c38106 {
    gap: 0;
}

.winButton_c38106:nth-child(1) {
    /* Fix: Ensuring correct variable is used for targeting the buttons */
    /* winButton_c38106 is the generic class, target based on order to remove specific radii */
    border-top-right-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
}

.winButton_c38106:nth-child(2) {
    border-radius: 0 !important;
}

.winButton_c38106:nth-child(3) {
    border-top-left-radius: 0 !important;
    border-bottom-left-radius: 0 !important;
}

/* Rotate on hover effect */
.winButton_c38106 > svg {
    display: block !important; /* Re-enable SVG icon for rotation effect */
    transition: 0.1s;
}

.winButton_c38106:hover > svg {
    transform: rotate(45deg);
}

/* Keep some spacing between the edge when window margin is close to 0px */
.trailing_c38106 {
    margin-right: calc(max(var(--window-margin), 4px));
}

/* === Make title bar draggable, except buttons === */
.appMount-3lHmkl,
.withFrame-2dL45i {
  -webkit-app-region: drag;
}
/* Ensure new title elements are not draggable for interaction */
.winButton_c38106,
.title__85643 {
  -webkit-app-region: no-drag;
}

/* --- Vencord/BetterDiscord Utility Overrides (Retained) --- */

/* allows quest buttons to be clickable */
.tabWrapper__26669 {
  -webkit-app-region: no-drag;
  pointer-events: auto;
}

/* orbs balance on nitro shop*/
.container__44ee9 {
  position:fixed;
  right:189px;
}

/* orbs balance on quests page */
.container_a592e1 .container__44ee9 {
  right:225px;
  -webkit-app-region: no-drag;
}

/* nitro shop search bar */
.searchBar__824d3 {
  position:absolute;
  right:320px;
}

/* ==================================== */
/* END OF THEME */
/* ==================================== */
